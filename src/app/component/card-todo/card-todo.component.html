<div class="card backlog">
    <div class="backlog-container">
        <div class="indicator priority-{{todoList.stateId}}"></div>
        <div class="backlog-inner-container">
            <span class="arrow-icon-container" (click)="expandWorkInside()"> <mat-icon class="arrow-icon">@if
                    (!expanded()){keyboard_arrow_right} @else {keyboard_arrow_down}</mat-icon>
            </span>


            <div class="card-name">
                <span>{{todoList.stateName}}</span>
            </div>


            <div class="card-section">
                <span class="section-label">Priority</span>
                <div class="progress-bar-battery">
                    @for (item of priorityBatteryItems; track $index) {
                    <div class=" progress-fill-battery priority-{{dataService.formatClassName(item.name)}}"
                        [matTooltip]="getTooltip(item.name,item.count,item.percentage)"
                        [style.width.%]="item.percentage">
                    </div>

                    }


                </div>
            </div>



        </div>
    </div>

    <!-- <div>height:{{workChildContainerHeight()}} </div> -->
    <div class="child-wrapper" [style.maxHeight.px]="childContainerHeight()" #childContainer>

        <div class="child-container">

            <div class="indicator-child priority-{{todoList.stateId}}"></div>
            <div class="work-list-container">

                <div class="work-header">
                    <span class="section-label name">FUNCTION</span>
                    <span class="section-label">TRACKER</span>
                    <span class="section-label">ACTIVITY</span>
                    <span class="section-label">STATE</span>
                    <span class="section-label">PRIORITY</span>
                    <span class="section-label">PERIOD</span>
                </div>


                @for (work of todoList.works; track $index) {
                <app-card-work [workData]="work"></app-card-work>
                }
            </div>
        </div>
    </div>
</div>